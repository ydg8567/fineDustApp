extends ../layout

block content
    script.
        const submitFunction = () => {
            const autor = document.getElementById("autor").value;
            const password = document.getElementById("password").value;
            const title = document.getElementById("title").value;
            const content = document.getElementById("content").value;

            $.ajax({
                url: "/addBoard/api/save",
                data: {
                    "autor": autor,
                    "password": password,
                    "title": title,
                    "content": content
                },
                type: "get",
                dateType: "html",
                contentType: "application/json",

                success: (result) => {
                    console.log(result)
                    location.href = 'board';
                },
                error: (err) => {
                    console.log(err)
                }
            })
        }

        const outToThisPage = () => {
            history.back();
        }

    p( style="margin-top: 3%; font-size: 30px; text-align: center") 새 게시글 작성
    table#addBoardTable(class = "table table-bordered" style = "margin-left: auto; margin-right: auto; margin-top:1%; line-height: 1.5; width: 33%;")
        thead
            tr
                td(style='background: #f3f6f7; width: 22%') 작성자
                td(style='padding: 10px; width: 80%')
                    input.text-input#autor(type='text', placeholder='작성자')
            tr
                td(style='background: #f3f6f7') 비밀번호
                td(style='padding: 10px')
                    input.text-input#password(type='password' placeholder='비밀번호')
            tr
                td(style='background: #f3f6f7') 제목
                td(style='padding: 10px')
                    input.text-input#title(type='text' placeholder='제목' style="width: 100%")
        tbody
            tr
                td(style='background: #f3f6f7') 내용
                td(style='padding: 10px')
                    textarea.textarea#content(placeholder='내용' style='width: 100%; height: 300px;')

            tr
                td(colspan="2" style="margin-right:10%; text-align: right")
                        button(type="button" class='btn btn-primary mr-2' onclick='submitFunction()') 글 쓰기
                        button(type="button" class='btn btn-primary mr-2' onclick='outToThisPage()') 취 소